```sql
-- ====================================
-- Create Database
-- ====================================
DROP DATABASE IF EXISTS company_db;
CREATE DATABASE company_db;
USE company_db;

-- ====================================
-- Table: Departments
-- ====================================
CREATE TABLE departments (
    dept_id INT PRIMARY KEY AUTO_INCREMENT,
    dept_name VARCHAR(100) NOT NULL,
    location VARCHAR(100) NOT NULL,
    budget DECIMAL(12,2)
);

-- ====================================
-- Table: Employees
-- ====================================
CREATE TABLE employees (
    emp_id INT PRIMARY KEY AUTO_INCREMENT,
    emp_name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE,
    salary DECIMAL(10,2) NOT NULL,
    hire_date DATE NOT NULL,
    dept_id INT,
    manager_id INT NULL,
    FOREIGN KEY (dept_id) REFERENCES departments(dept_id),
    FOREIGN KEY (manager_id) REFERENCES employees(emp_id)
);

-- ====================================
-- Table: Projects
-- ====================================
CREATE TABLE projects (
    proj_id INT PRIMARY KEY AUTO_INCREMENT,
    proj_name VARCHAR(100) NOT NULL,
    start_date DATE,
    end_date DATE,
    budget DECIMAL(12,2),
    dept_id INT,
    FOREIGN KEY (dept_id) REFERENCES departments(dept_id)
);

-- ====================================
-- Table: Employee_Projects
-- ====================================
CREATE TABLE employee_projects (
    emp_id INT,
    proj_id INT,
    role VARCHAR(50),
    allocation DECIMAL(5,2), -- % allocation
    PRIMARY KEY (emp_id, proj_id),
    FOREIGN KEY (emp_id) REFERENCES employees(emp_id),
    FOREIGN KEY (proj_id) REFERENCES projects(proj_id)
);

-- ====================================
-- Table: Accounts
-- ====================================
CREATE TABLE accounts (
    acc_id INT PRIMARY KEY AUTO_INCREMENT,
    emp_id INT,
    balance DECIMAL(12,2) DEFAULT 0,
    FOREIGN KEY (emp_id) REFERENCES employees(emp_id)
);

-- ====================================
-- Table: Salary_Log
-- ====================================
CREATE TABLE salary_log (
    log_id INT PRIMARY KEY AUTO_INCREMENT,
    emp_id INT,
    old_salary DECIMAL(10,2),
    new_salary DECIMAL(10,2),
    changed_on TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (emp_id) REFERENCES employees(emp_id)
);

-- ====================================
-- Insert Sample Data
-- ====================================

-- Departments
INSERT INTO departments (dept_name, location, budget) VALUES
('HR', 'New York', 200000),
('Finance', 'London', 400000),
('Engineering', 'San Francisco', 1000000),
('Sales', 'London', 500000),
('IT Support', 'New York', 150000);

-- Employees
INSERT INTO employees (emp_name, email, salary, hire_date, dept_id, manager_id) VALUES
('Alice Johnson', 'alice@example.com', 85000, '2016-05-20', 3, NULL), -- Manager
('Bob Smith', 'bob@example.com', 45000, '2019-03-15', 1, NULL),       -- Manager
('Charlie Brown', 'charlie@example.com', 95000, '2017-08-01', 3, 1),
('Diana Prince', 'diana@example.com', 60000, '2020-01-10', 2, NULL), -- Manager
('Eve Adams', 'eve@example.com', 120000, '2015-11-25', 4, NULL),     -- Manager
('Frank White', 'frank@example.com', 40000, '2021-06-18', 1, 2),
('Grace Lee', 'grace@example.com', 70000, '2018-02-12', 3, 1),
('Hank Green', 'hank@example.com', 50000, '2022-07-30', 5, NULL),
('Ivy Scott', 'ivy@example.com', 65000, '2019-09-14', 2, 4),
('Jack Black', 'jack@example.com', 72000, '2021-04-11', 4, 5);

-- Accounts
INSERT INTO accounts (emp_id, balance) VALUES
(1, 15000),
(2, 8000),
(3, 20000),
(4, 12000),
(5, 25000),
(6, 5000),
(7, 11000),
(8, 4000),
(9, 9500),
(10, 13000);

-- Projects
INSERT INTO projects (proj_name, start_date, end_date, budget, dept_id) VALUES
('Payroll System', '2021-01-01', '2021-12-31', 150000, 2),
('AI Research', '2020-06-01', '2023-12-31', 500000, 3),
('CRM Development', '2021-05-01', '2022-08-30', 300000, 4),
('Cloud Migration', '2022-01-15', '2024-01-15', 250000, 5),
('Recruitment Drive', '2022-03-01', '2022-12-31', 80000, 1);

-- Employee Projects (Assignments)
INSERT INTO employee_projects (emp_id, proj_id, role, allocation) VALUES
(1, 2, 'Project Lead', 50.0),
(3, 2, 'Researcher', 70.0),
(7, 2, 'Developer', 60.0),
(2, 5, 'Coordinator', 40.0),
(6, 5, 'Assistant', 50.0),
(4, 1, 'Analyst', 60.0),
(9, 1, 'Auditor', 50.0),
(5, 3, 'Manager', 60.0),
(10, 3, 'Developer', 70.0),
(8, 4, 'Support Engineer', 80.0);

```